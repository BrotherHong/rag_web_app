# ==============================================================================
# Docker 環境變數配置範例
# ==============================================================================
# 使用說明：
# 1. 複製此檔案為 .env.docker: cp .env.docker.example .env.docker
# 2. 修改敏感資訊（密碼、金鑰等）
# 3. 執行 docker-compose up -d --build
# ==============================================================================

# ==============================================================================
# Docker 建置設定
# ==============================================================================
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# ==============================================================================
# 應用程式基本設定
# ==============================================================================
APP_NAME=RAG Knowledge Base
DEBUG=False
API_V1_PREFIX=/api

# ==============================================================================
# 安全設定（⚠️ 請務必修改）
# ==============================================================================
# JWT 金鑰（請使用隨機字串，可用 openssl rand -hex 32 生成）
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# ==============================================================================
# PostgreSQL 資料庫設定
# ==============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres123
POSTGRES_DB=rag_db
POSTGRES_PORT=5432

# 資料庫連線池設定
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40

# ==============================================================================
# 資料庫初始化控制
# ==============================================================================
# 首次啟動設為 true，後續可改為 false 避免重複初始化
INIT_DB=true
INIT_SYSTEM_SETTINGS=true

# ==============================================================================
# 預設管理員帳號（⚠️ 請務必修改密碼）
# ==============================================================================
# 超級管理員
SUPER_ADMIN_USERNAME=superadmin
SUPER_ADMIN_PASSWORD=admin123
SUPER_ADMIN_EMAIL=superadmin@ncku.edu.tw

# 各部門管理員預設密碼
DEPT_ADMIN_PASSWORD=admin123

# ==============================================================================
# 檔案上傳設定
# ==============================================================================
# 最大檔案大小（位元組）52428800 = 50MB
MAX_FILE_SIZE=52428800
ALLOWED_EXTENSIONS=.txt,.pdf,.doc,.docx,.xls,.xlsx

# ==============================================================================
# CORS 設定
# ==============================================================================
# 開發環境可用 *，生產環境建議指定具體域名
# 例如：https://rag.ncku.edu.tw,https://admin.rag.ncku.edu.tw
CORS_ORIGINS=*

# ==============================================================================
# Ollama 設定（⚠️ 請修改為您的 Ollama 伺服器位址）
# ==============================================================================
OLLAMA_BASE_URL=https://your-ollama-server-url
OLLAMA_SUMMARY_MODEL=qwen2.5:14b
OLLAMA_RAG_MODEL=qwen2.5:32b
OLLAMA_EMBEDDING_MODEL=bge-m3

# ==============================================================================
# Frontend 建置設定
# ==============================================================================
VITE_API_BASE_URL=/api
VITE_ADMIN_BASE_PATH=/admin
VITE_QUERY_BASE_PATH=/query

# ==============================================================================
# Nginx 設定
# ==============================================================================
# 對外開放的端口
NGINX_PORT=80

# ==============================================================================
# 開發除錯設定（可選）
# ==============================================================================
# 設為 true 可在容器中看到更多日誌
# UVICORN_LOG_LEVEL=debug
# PYTHONUNBUFFERED=1
